; PlatformIO Project Configuration File
;
; OpenAI Realtime Embedded SDK
; Converted from ESP-IDF CMake project
;
; Build environments:
;   - m5stack-atoms3r: M5Stack AtomS3R with Atomic Echo Base (default)
;   - esp32s3: Generic ESP32-S3 devkit
;
; Required environment variables:
;   WIFI_SSID, WIFI_PASSWORD, OPENAI_API_KEY

[platformio]
default_envs = m5stack-atoms3r
src_dir = src

[env]
platform = espressif32
framework = espidf
monitor_speed = 115200
board_build.partitions = partitions.csv
board_build.embed_txtfiles =

; Common build flags
build_flags =
    -DSEND_AUDIO=0
    -DOPENAI_REALTIMEAPI=\"https://api.openai.com/v1/realtime?model=gpt-4o-mini-realtime-preview-2024-12-17\"

; Extra component directories
board_build.extra_component_dirs = components

; ============================================================
; M5Stack AtomS3R with Atomic Echo Base (Primary Target)
; ============================================================
[env:m5stack-atoms3r]
board = m5stack-atoms3
build_flags =
    ${env.build_flags}
    -DCONFIG_OPENAI_BOARD_M5_ATOMS3R=1
    -DWIFI_SSID=\"${sysenv.WIFI_SSID}\"
    -DWIFI_PASSWORD=\"${sysenv.WIFI_PASSWORD}\"
    -DOPENAI_API_KEY=\"${sysenv.OPENAI_API_KEY}\"

; ============================================================
; Generic ESP32-S3 DevKit
; ============================================================
[env:esp32s3]
board = esp32-s3-devkitc-1
build_flags =
    ${env.build_flags}
    -DCONFIG_OPENAI_BOARD_ESP32_S3=1
    -DWIFI_SSID=\"${sysenv.WIFI_SSID}\"
    -DWIFI_PASSWORD=\"${sysenv.WIFI_PASSWORD}\"
    -DOPENAI_API_KEY=\"${sysenv.OPENAI_API_KEY}\"
